review <- read.csv( file = "../yelp-NV/review.csv")
#correlation
sentiment_reviewStars <- cor( review$sentiment , review$review_stars)
#lm
lm2.out = lm2(review$sentiment ~ review$review_stars)
summary( lm2.out)
plot(review$review_stars , review$sentiment)
abline(lm2.out, col="red")
setwd("J:/Jason/School/NYU/Senior 1 - Large datasets/final/yelp-nlp/R files")
review <- read.csv( file = "../yelp-NV/review.csv")
#correlation
sentiment_reviewStars <- cor( review$sentiment , review$review_stars)
#lm
lm2.out = lm2(review$sentiment ~ review$review_stars)
summary( lm2.out)
plot(review$review_stars , review$sentiment)
abline(lm2.out, col="red")
review <- read.csv( file = "../yelp-NV/review_1000.csv")
#correlation
sentiment_reviewStars <- cor( review$sentiment , review$review_stars)
#lm
lm.out = lm(review$sentiment ~ review$review_stars + review$userful_vo)
summary( lm.out)
plot(review$review_stars , review$sentiment)
abline(lm.out, col="red")
review <- read.csv( file = "../yelp-NV/review_1000.csv")
#correlation
sentiment_reviewStars <- cor( review$sentiment , review$review_stars)
#lm
lm.out = lm(review$sentiment ~ review$review_stars + review$usefulVotes + review$fans)
summary( lm.out )
plot(review$review_stars , review$sentiment)
abline(lm.out, col="red")
#review <- read.csv( file = "../yelp-NV/review_1000.csv")
#correlation
sentiment_reviewStars <- cor( review$sentiment , review$review_stars)
#lm
lm.out = lm(review$sentiment ~ review$review_stars)
summary( lm.out )
plot(review$review_stars , review$sentiment)
abline(lm.out, col="red")
review <- read.csv( file = "../yelp-NV/review_1000.csv")
#correlation
sentiment_reviewStars <- cor( review$sentiment , review$review_stars)
#lm
lm.out = lm(review$sentiment ~ review$review_stars + review$usefulVotes)
summary( lm.out )
plot(review$review_stars , review$sentiment)
abline(lm.out, col="red")
#review <- read.csv( file = "../yelp-NV/review_1000.csv")
#correlation
sentiment_reviewStars <- cor( review$sentiment , review$review_stars)
#lm
lm.out = lm(review$sentiment ~ review$review_stars + review$usefulVotes + review$review_count)
summary( lm.out )
plot(review$review_stars , review$sentiment)
abline(lm.out, col="red")
#review <- read.csv( file = "../yelp-NV/review_1000.csv")
#correlation
sentiment_reviewStars <- cor( review$sentiment , review$review_stars)
#lm
lm.out = lm(review$sentiment ~ review$review_stars + review$usefulVotes)
summary( lm.out )
plot(review$review_stars , review$sentiment)
abline(lm.out, col="red")
#review <- read.csv( file = "../yelp-NV/review_1000.csv")
#correlation
sentiment_reviewStars <- cor( review$sentiment , review$review_stars)
#lm
lm.out = lm(review$sentiment ~ review$review_stars + review$usefulVotes + review$funnyVotes + review$coolVotes)
summary( lm.out )
#plot(review$review_stars , review$sentiment)
#abline(lm.out, col="red")
#review <- read.csv( file = "../yelp-NV/review_1000.csv")
#correlation
sentiment_reviewStars <- cor( review$sentiment , review$review_stars)
#lm
lm.out = lm(review$sentiment ~ review$review_stars + review$usefulVotes + review$coolVotes)
summary( lm.out )
#plot(review$review_stars , review$sentiment)
#abline(lm.out, col="red")
review <- read.csv( file = "./yelp-NV/review.csv")
#correlation
sentiment_reviewStars <- cor( review$sentiment , review$review_stars)
#lm
lm.out = lm(review$sentiment ~ review$review_stars)
summary( lm.out)
plot(review$review_stars , review$sentiment)
abline(lm2.out, col="red")
review <- read.csv( file = "./yelp-NV/review.csv")
#correlation
sentiment_reviewStars <- cor( review$sentiment , review$review_stars)
#lm
lm.out = lm(review$sentiment ~ review$review_stars)
summary( lm.out)
plot(review$review_stars , review$sentiment)
abline(lm.out, col="red")
review
View(review)
View(review)
review_large <- read.csv( file = "./yelp-NV/review.csv")
#correlation
sentiment_reviewStars <- cor( review$sentiment , review$review_stars)
#lm
lm.out = lm(review$sentiment ~ review$review_stars)
summary( lm.out)
plot(review$review_stars , review$sentiment)
abline(lm.out, col="red")
review_large <- read.csv( file = "../yelp-NV/review.csv")
#correlation
sentiment_reviewStars <- cor( review$sentiment , review$review_stars)
#lm
lm.out = lm(review$sentiment ~ review$review_stars)
summary( lm.out)
plot(review$review_stars , review$sentiment)
abline(lm.out, col="red")
review <- read.csv( file = "../yelp-NV/review.csv")
#correlation
sentiment_reviewStars <- cor( review$sentiment , review$review_stars)
#lm
lm.out = lm(review$sentiment ~ review$review_stars)
summary( lm.out)
plot(review$review_stars , review$sentiment)
abline(lm.out, col="red")
review <- read.csv( file = "../yelp-NV/review.csv")
#correlation
sentiment_reviewStars <- cor( review$sentiment , review$review_stars)
#lm
lm.out = lm(review$sentiment ~ review$review_stars)
summary( lm.out)
plot(review$review_stars , review$sentiment)
abline(lm.out, col="red")
lm.res = resid(lm.out)
plot(review$review_stars, lm.res)
boxplot(review$sentiment ~ review$review_stars)
#,review <- read.csv( file = "../yelp-NV/review.csv")
#correlation
sentiment_reviewStars <- cor( review$sentiment , review$review_stars)
#lm
lm.out = lm(review$sentiment ~ review$review_stars)
summary( lm.out)
#plot(review$review_stars , review$sentiment)
boxplot(review$sentiment~review$review_stars)
abline(lm.out, col="red")
lm.res = resid(lm.out)
plot(review$review_stars, lm.res)
#boxplot(review$sentiment ~ review$review_stars)
#,review <- read.csv( file = "../yelp-NV/review.csv")
#correlation
sentiment_reviewStars <- cor( review$sentiment , review$review_stars)
#lm
lm.out = lm(review$sentiment ~ review$review_stars)
summary( lm.out)
plot(review$review_stars , review$sentiment)
#boxplot(review$sentiment~review$review_stars)
abline(lm.out, col="red")
lm.res = resid(lm.out)
plot(review$review_stars, lm.res)
boxplot(review$sentiment ~ review$review_stars)
user_10000 <- read.csv( file = "./yelp-user/user_improved_10000.csv")
grp1=subset(user_10000,numberOfReviews<2)
grp2=subset(subset(user_10000,numberOfReviews>2),numberOfReviews<=5)
grp3=subset(subset(user_10000,numberOfReviews>5),numberOfReviews<=10)
grp4=subset(subset(user_10000,numberOfReviews>10),numberOfReviews<=30)
grp5=subset(subset(user_10000,numberOfReviews>30),numberOfReviews<=50)
grp6=subset(subset(user_10000,numberOfReviews>50),numberOfReviews<=Inf)
slice<-c(length(grp1[,1])/length(user_10000[,1]),length(grp2[,1])/length(user_10000[,1]),length(grp3[,1])/length(user_10000[,1]),length(grp4[,1])/length(user_10000[,1]), length(grp5[,1])/length(user_10000[,1]),length(grp6[,1])/length(user_10000[,1]))*100
pie(slice,labels=paste(slice,'%',sep=''),main="Pie Chart")
user_10000 <- read.csv( file = "../yelp-user/user_improved_10000.csv")
grp1=subset(user_10000,numberOfReviews<2)
grp2=subset(subset(user_10000,numberOfReviews>2),numberOfReviews<=5)
grp3=subset(subset(user_10000,numberOfReviews>5),numberOfReviews<=10)
grp4=subset(subset(user_10000,numberOfReviews>10),numberOfReviews<=30)
grp5=subset(subset(user_10000,numberOfReviews>30),numberOfReviews<=50)
grp6=subset(subset(user_10000,numberOfReviews>50),numberOfReviews<=Inf)
slice<-c(length(grp1[,1])/length(user_10000[,1]),length(grp2[,1])/length(user_10000[,1]),length(grp3[,1])/length(user_10000[,1]),length(grp4[,1])/length(user_10000[,1]), length(grp5[,1])/length(user_10000[,1]),length(grp6[,1])/length(user_10000[,1]))*100
pie(slice,labels=paste(slice,'%',sep=''),main="Pie Chart")
grp1
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
user.freq
plot(user.freq)
plot(user.freq, type='l')
user.freq <- table(log(user_10000$numberOfReviews))
user.freq
plot(user.freq)
user.freq <- log(table(user_10000$numberOfReviews))
plot(user.freq)
user.freq <- table(user_10000$numberOfReviews)
ploot(user.freq)
plot(user.freq)
user_10000 <- read.csv( file = "../yelp-user/user_improved_10000.csv")
user.freq <- table(user_10000$numberOfReviews)
grp1=subset(user_10000,numberOfReviews<2)
grp2=subset(subset(user_10000,numberOfReviews>2),numberOfReviews<=5)
grp3=subset(subset(user_10000,numberOfReviews>5),numberOfReviews<=10)
grp4=subset(subset(user_10000,numberOfReviews>10),numberOfReviews<=30)
grp5=subset(subset(user_10000,numberOfReviews>30),numberOfReviews<=50)
grp6=subset(subset(user_10000,numberOfReviews>50),numberOfReviews<=Inf)
slice<-c(length(grp1[,1])/length(user_10000[,1]),length(grp2[,1])/length(user_10000[,1]),length(grp3[,1])/length(user_10000[,1]),length(grp4[,1])/length(user_10000[,1]), length(grp5[,1])/length(user_10000[,1]),length(grp6[,1])/length(user_10000[,1]))*100
pie(slice,labels=paste(slice,'%',sep=''),main="Pie Chart")
sorted_users <- user_10000[order(numberOfReviews),]
sorted_users <- user_10000[user_1000$order(numberOfReviews),]
sorted_users <- user_10000[order(user_1000$numberOfReviews),]
sorted_users <- user_10000[,order(numberOfReviews)]
userdf <- as.data.frame.matrix(user_1000o)
userdf <- as.data.frame.matrix(user_10000)
userdf
userdf[order(numberOfReviws),]
userdf[order(numberOfReviews),]
sort(user_10000$numberOfReviews, decreasing = TRUE)
sorted_user = sort(user_10000$numberOfReviews, decreasing = TRUE)
grp1=subset(sorted_user,[1:100])
grp1=sorted_user[1:100]
grp1
sum(grp1)
grp2=sorted_user[101:500]
sum(grp2)
grp3=sorted_user[501:1000]
grp4=sorted_user[1001:2000]
grp5=sorted_user[2001:]
grp5=sorted_user[2001:9993]
pie(c(grp1,grp2,grp3,grp4,grp5))
grp1
pie(c(sum(grp1),sum(grp2),sum(grp3),sum(grp4),sum(grp5))
)
pie(c(sum(grp1),sum(grp2),sum(grp3),sum(grp4),sum(grp5)))
labels <- c(1,5,10,20,100)
pie(c(sum(grp1),sum(grp2),sum(grp3),sum(grp4),sum(grp5)), labels = paste(labels, '%', sep =''))
labels <- c (1, Next 4, Next 5, Next 10, Rest)
labels <- c ("1", "Next 4", "Next 5", "Next 10", "Rest")
pie(c(sum(grp1),sum(grp2),sum(grp3),sum(grp4),sum(grp5)), labels = paste(labels, '%', sep =''))
labels <- c ("1", "Next 4", "Next 5", "Next 10", "Next 80")
pie(c(sum(grp1),sum(grp2),sum(grp3),sum(grp4),sum(grp5)), labels = paste(labels, '%', sep =''))
user_10000 <- read.csv( file = "../yelp-user/user_improved_10000.csv")
sorted_user = sort(user_10000$numberOfReviews, decreasing = TRUE)
grp1=sorted_user[1:100]
grp2=sorted_user[101:500]
grp3=sorted_user[501:1000]
grp4=sorted_user[1001:2000]
grp5=sorted_user[2001:9993]
labels <- c("Top 1", "Next 4", "Next 5", "Next 10", "Next 80")
pie(c(sum(grp1),sum(grp2),sum(grp3),sum(grp4),sum(grp5)), labels = paste(labels, '%', sep =''))
user_1000 <- read.csv( file = "./yelp-user/user_improved_1000.csv")
source('~/.active-rstudio-document', echo=TRUE)
View(happy_subset)
count(happy_subset)
happy_subset.rows
nrow(happy_subset)
happy_subset
happy_subset$weightFreq = 1 / nrow(happy_subset)
hist(happy_subset$weightFreq~happy_subset$average_stars)
barplot(happy_subset$weightFreq~happy_subset$average_stars)
barplot(sum(happy_subset$weightFreq) ~ happy_subset$average_stars)
lm(number_of_friends ~ averageSentiment)
lm(user_10000$number_of_friends ~ user_10000$averageSentiment)
lm.out = lm(user_10000$number_of_friends ~ user_10000$averageSentiment)
summary(lm.out)
lm.out = lm(user_10000$number_of_friends ~ user_10000$average_stars)
summary(lm.out)
lm.out = lm(user_10000$number_of_friends ~ user_10000$numberOfReviews)
summary(lm.out)
barplot(happy_subset$average_stars/nrow(happy_subset))
barplot((happy_subset$average_stars)/nrow(happy_subset))
barplot((happy_subset$average_stars)
)
hist((happy_subset$average_stars)
)
hist((happy_subset$average_stars))
hist((happy_subset$average_stars)/nrow(happy_subset))
histo <- hist(happy_subset$average_stars)
histo
barplot(histo$counts/nrow(happy_subset))
depressed.stars <- hist(depressed_subset$average_stars)
barplot(depressed.stars$counts/nrow(depressed_subset))
d = barplot(depressed.stars$counts/nrow(depressed_subset))
h = barplot(histo$counts/nrow(happy_subset))
plot(d)
plot(h)
plot(d)
plot(h, add = T)
install.packages("ggplot2")
require(gglot2)
require(ggplot2)
ggplot()
ggplot(d)
d
ggplot(depressed.stars$counts/nrow(depressed_subset))
depressed.stars$counts/nrow(depressed_subset)
data(depressed.stars$counts/nrow(depressed_subset))
source('~/.active-rstudio-document', echo=TRUE)
barplot(depressed.stars$counts/nrow(depressed_subset))
#,review <- read.csv( file = "../yelp-NV/review.csv")
#correlation
sentiment_reviewStars <- cor( review$sentiment , review$review_stars)
#lm
lm.out = lm(review$sentiment ~ review$review_stars)
summary( lm.out)
plot(review$review_stars , review$sentiment)
#boxplot(review$sentiment~review$review_stars)
abline(lm.out, col="red")
lm.res = resid(lm.out)
plot(review$review_stars, lm.res)
boxplot(review$sentiment ~ review$review_stars)
qplot(review$sentiment, review$review_stars
qplot(review$sentiment, review$review_stars)
qplot(review$sentiment, review$review_stars)
qplot(review$review_stars, review$sentiment)
qplot(review$review_stars, review$sentiment, method = 'lm')
lm.out
lm.res
qplot(review$review_stars, lm.res)
qplot(happy.stars, happy.stars)
qplot(happy.stars)
d
qplot(d)
qplot(d,d)
qplot(d,[1,2,3,4,5])
qplot(d, c(1,1.5,2,2.5,3,3.5,4,4.5,5))
qplot(d, c(1.5,2,2.5,3,3.5,4,4.5,5))
qplot(c(1.5,2,2.5,3,3.5,4,4.5,5), d)
d[0]
qplot(d, d[])
typeof()
typeof(d)
plot(d)
d
d = barplot(depressed.stars$counts/nrow(depressed_subset))
d
qplot(depress.stars$counts/nrow(depres_subset))
deress.stars
qplot(depressed.stars$counts/nrow(depres_subset))
qplot(depressed.stars$counts/nrow(depress_subset))
depressed_subset
nrow(depressed_subset)
qplot(depressed.stars$counts/nrow(depressed_subset))
qplot(depressed.stars$counts/)
qplot(depressed.stars$counts)
